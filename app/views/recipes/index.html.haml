-#  This file is app/views/recipes/index.html.haml
%h2 All Recipes

= form_tag recipes_path, :method => :get, :id => 'difficulty_form' do
  /= hidden_field_tag ":search_recipes", true if @date_header
  = hidden_field_tag ":difficulty", true if @selected_difficulties
  Include:
  - @all_difficulties.each do |difficulty|
    = difficulty
    = check_box_tag "difficulties[#{difficulty}]", 1, @selected_difficulties.include?(difficulty), :id => "difficulty_#{difficulty}"
  = submit_tag 'Refresh', :id => 'refresh_page', :class => 'btn btn-primary'

= form_tag recipes_path, :method => 'get', id: 'search-form' do
  = text_field_tag :search, params[:search], placeholder: 'Search Recipes'
  = submit_tag 'Search', :id => 'search_recipes', :class => 'btn btn-primary'

  /%th{:class => @date_header}= link_to 'Release Date', movies_path(:sort => 'release_date', :ratings => @selected_ratings), :id => 'release_date_header'

%table#movies.table.table-striped.col-md-12
  %thead
    %tr
      %th Recipe Name
      %th Difficulty
      %th Servings
      %th Cooking Time
      %th Author
  %tbody
    - @recipes.each do |recipe|
      %tr
        %td= link_to "#{recipe.recipe_name}", recipe_path(recipe)
        %td= recipe.difficulty
        %td= recipe.servings
        %td= recipe.cook_time
        %td= recipe.author

= link_to 'Add new Recipes', new_recipe_path